<?xml version="1.0"?>
<launch>
    <arg name="amcl_config" default="$(find roomba_visualizer)/config/amcl.yaml" />
    <arg name="roomba" default="roomba" />
    <arg name="init_x" default="7.0" />
    <arg name="init_y" default="0.0" />
    <arg name="init_a" default="1.5708" />

    <node pkg="pole_eliminator" type="pole_eliminator" name="pole_eliminator" >
        <param name="ROBOT_RADIUS" value="0.15" />
        <param name="MARGIN" value="15" />
    </node>
    <node pkg="amcl" type="amcl" name="amcl" output="screen" >
        <rosparam command="load" file="$(arg amcl_config)" />
        <param name="base_frame_id" value="$(arg roomba)/base_link" />
        <param name="odom_frame_id" value="$(arg roomba)/odom" />
        <param name="initial_pose_x" value="$(arg init_x)" />
        <param name="initial_pose_y" value="$(arg init_y)" />
        <param name="initial_pose_a" value="$(arg init_a)" />
        <remap from="scan" to="corrected_scan" />
        <remap from="map" to="map" />
    </node>
    <node pkg="roomba_visualizer" type="roomba_visualizer_node" name="roomba_visualizer" >
        <param name="ROOMBA" value="$(arg roomba)" />
    </node>
</launch>
